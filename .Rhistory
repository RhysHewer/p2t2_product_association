g8
transTable
g3 <- ggplot(electroProducts, aes(reorder(ProductType, -Occurance), Occurance)) +
geom_col(fill = "#ae82bc") +
theme_bw() +
ylab("Sales Volume (month, est.)") +
xlab("Product Type") +
ggtitle("Electronidex: Sales Volume (est.) per Product Type") +
theme(axis.text.x=element_text(angle = -45, hjust = 0)) +
geom_text(aes(label = Support %>% round(2)), vjust = -0.3)
g3
#Load libraries
source("scripts/libraries.R")
#load data (transaction)
load("output/transData.RDS") # transaction data individual items (sparse matrix)
load("output/prodData.RDS") # transaction data indivifual items (S3 data)
load("output/typeData.RDS") # transaction data product type (sparse matrix)
#Load data - Blackwell products info
#Load data - Blackwell products info
blackData <- read.csv("data/existingProductAttributes.csv")
blackData <- blackData %>% filter(Product.Type != "Extended Warranty") %>%
mutate(profit = (Volume * Price * Profit.margin)/10^3, unitProfit = Price * Profit.margin)
blackData
blackProfit <- blackData %>% group_by(Product.Type) %>%
summarise(absProfit = sum(profit), unitProfit = mean(unitProfit), volume = sum(Volume),
meanMargin = mean(Profit.margin), avgPrice = mean(Price))
blackProfit
names(electroProducts) <- c("ProductType", "Support")
###ELECTROINDEX DATA
##Product type frequency
electroProducts <- itemFrequency(typeData) %>% as.data.frame() %>% rownames_to_column()
names(electroProducts) <- c("ProductType", "Support")
View(electroProducts)
## Most frequent Electronidex products - Mouse & Keyboard combination/Active Headphones/Keyboard/Mouse
freq <- itemFrequency(transData) %>% as.data.frame %>% rownames_to_column()
colnames(freq) <- c("rowNames", "support")
View(freq)
x <- keyboard.list
#load csv data
transData <- read.transactions("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/data/ElectronidexTransactions2017.csv", format = "basket", sep = ",")
prodData <- read.csv("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/data/ElectronidexTransactions2017.csv", header = FALSE)
### Loading PDF Elecronited product type data
text <- pdf_text("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/data/ElectronidexItems2017.pdf")
text2 <- strsplit(text, "\n")
text2 <- text2 %>% unlist(recursive = TRUE)
text3 <- gsub("\r", "", text2)
prod.list <- text3 %>% as.data.frame()
##create product type lists
laptop.list <- prod.list[2:11,1] %>% as.character() %>% trimws("l")
desktop.list <- prod.list[13:21,1] %>% as.character() %>% trimws("l")
monitor.list <- prod.list[23:32,1] %>% as.character() %>% trimws("l")
mice.list <- prod.list[34:43,1] %>% as.character() %>% trimws("l")
keyboard.list <- prod.list[45:53,1] %>% as.character() %>% trimws("l")
mousekeyboard.list <- prod.list[55:63,1] %>% as.character() %>% trimws("l")
compheadphones.list <- prod.list[64:74,1] %>% as.character() %>% trimws("l")
activeheadphones.list <- prod.list[76:81,1] %>% as.character() %>% trimws("l")
compcords.list <- prod.list[83:91,1] %>% as.character() %>% trimws("l")
accessories.list <- prod.list[93:96,1] %>% as.character() %>% trimws("l")
speakers.list <- prod.list[98:106,1] %>% as.character() %>% trimws("l")
printers.list <- prod.list[108:112,1] %>% as.character() %>% trimws("l")
printink.list <- prod.list[114:118,1] %>% as.character() %>% trimws("l")
compstands.list <- prod.list[120:124,1] %>% as.character() %>% trimws("l")
comptablets.list <- prod.list[126:130,1] %>% as.character() %>% trimws("l")
extdrives.list <- prod.list[132:136,1] %>% as.character() %>% trimws("l")
smarthome.list <- prod.list[138:142,1] %>% as.character() %>% trimws("l")
##additional products added to lists
laptop.list <- c(laptop.list, "Alienware Laptop", "Apple MacBook Pro", "Eluktronics Pro Gaming Laptop", "ASUS Chromebook")
activeheadphones.list <- c(activeheadphones.list, "Panasonic On-Ear Stereo Headphones", "APIE Bluetooth Headphone",
"Otium Wireless Sports Bluetooth Headphone", "Philips Flexible Earhook Headphone")
comptablets.list <- c(comptablets.list, "tabletlet", "tablet Pro")
printink.list <- c(printink.list, "printer Toner")
extdrives.list <- c(extdrives.list, "Slim extdrive")
#string replacement lists
prodReplace <- function(x,y){
list1 <- x %>% as.data.frame()
list1$name <- y
list2 <- list1$name
names(list2) <- list1$.
list2
}
laptop.replace <- prodReplace(laptop.list, "laptop")
desktop.replace <- prodReplace(desktop.list, "desktop")
monitor.replace <- prodReplace(monitor.list, "monitor")
mice.replace <- prodReplace(mice.list, "mouse")
keyboard.replace <- prodReplace(keyboard.list, "keyboard")
mousekeyboard.replace <- prodReplace(mousekeyboard.list, "mousekeyboard")
compheadphones.replace <- prodReplace(compheadphones.list, "compheadphones")
activeheadphones.replace <- prodReplace(activeheadphones.list, "activeheadphones")
compcords.replace <- prodReplace(compcords.list, "compcord")
accessories.replace <- prodReplace(accessories.list, "accessories")
speakers.replace <- prodReplace(speakers.list, "speaker")
printers.replace <- prodReplace(printers.list, "printer")
printink.replace <- prodReplace(printink.list, "printink")
compstands.replace <- prodReplace(compstands.list, "compstand")
comptablets.replace <- prodReplace(comptablets.list, "tablet")
extdrives.replace <- prodReplace(extdrives.list, "extdrive")
smarthome.replace <- prodReplace(smarthome.list, "smarthome")
#String replacement function
stringReplace <- function(z){
inList <- z
repLace <- prodData
repLace <- sapply(repLace, function(x) str_replace_all(x, inList))
data.frame(repLace)
}
productList <- c(laptop.replace, desktop.replace, monitor.replace, mice.replace, keyboard.replace, mousekeyboard.replace,
compheadphones.replace, activeheadphones.replace, compcords.replace, accessories.replace, speakers.replace,
printers.replace, printink.replace, compstands.replace, comptablets.replace, extdrives.replace, smarthome.replace)
typePrep <- stringReplace(productList)
#not all products were included on product type list
# "Alienware Laptop", "Apple MacBook Pro", "Eluktronics Pro Gaming Laptop", "Panasonic On-Ear Stereo Headphones",
# "tabletlet", "APIE Bluetooth Headphone", "ASUS Chromebook", "Otium Wireless Sports Bluetooth Headphone",  "printer Toner"
# "Philips Flexible Earhook Headphone", "Slim extdrive", "tablet Pro"  - added to relevant product replacement lists
#CSV creation/re-import
write.table(typePrep, file = "C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/output/typePrep.csv", sep=",", row.names = FALSE, col.names = FALSE)
typeData <- read.transactions("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/output/typePrep.csv", format = "basket", sep=",")
x <- keyboard.list
y <- "keyboard"
is.x <- freq$rowNames %in% x
freq$prodType[is.x] <- y
prodType
View(freq)
freq <- addType(accessories.list, "accessories")
addType <- function(x,y){
is.x <- freq$rowNames %in% x
freq$prodType[is.x] <- y
}
freq <- addType(accessories.list, "accessories")
addType <- function(x,y){
is.x <- freq$rowNames %in% x
freq$prodType[is.x] <- y
freq
}
freq <- addType(accessories.list, "accessories")
## Most frequent Electronidex products - Mouse & Keyboard combination/Active Headphones/Keyboard/Mouse
freq <- itemFrequency(transData) %>% as.data.frame %>% rownames_to_column()
colnames(freq) <- c("rowNames", "support")
freq <- addType(accessories.list, "accessories")
View(freq)
freq <- addType(addList, nameList)
addList <- c(accessories.list, monitor.list, desktop.list, printers.list, printink.list, comptablets.list)
nameList <- c("accessories", "monitor", "desktop", "printer", "printink", "comptablet")
freq <- addType(addList, nameList)
freq <- sapply(freq, function(x) addType(addList, nameList))
freq <- sapply()
freq <- sapply(addType(addList, nameList))
addType <- function(x,y){
is.x <- freq$rowNames %in% x
freq$prodType[is.x] <- y
freq
}
freq <- sapply(freq, addType(addList, nameList))
freq <- sapply(freq, addType())
freq <- addType(accessories.list, "accessories")
freq <- addType(monitor.list, "monitor")
## Most frequent Electronidex products - Mouse & Keyboard combination/Active Headphones/Keyboard/Mouse
freq <- itemFrequency(transData) %>% as.data.frame %>% rownames_to_column()
colnames(freq) <- c("rowNames", "support")
freq <- addType(accessories.list, "accessories")
freq <- addType(monitor.list, "monitor")
View(freq)
freq <- addType(accessories.list, "accessories")
freq <- addType(monitor.list, "monitor")
freq <- addType(desktop.list, "desktop")
freq <- addType(printers.list, "printer")
freq <- addType(printink.list, "printink")
freq <- addType(comptablets.list, "comptablet")
View(freq)
freqShared <- addType(accessories.list, "accessories")
freqShared <- addType(monitor.list, "monitor")
freqShared <- addType(desktop.list, "desktop")
freqShared <- addType(printers.list, "printer")
freqShared <- addType(printink.list, "printink")
freqShared <- addType(comptablets.list, "comptablet")
View(freqShared)
freqShared.filter <- freq %>% na.omit() %>% group_by(prodType) %>%
top_n(n = 5, wt = support) %>% arrange(prodType)
freqShared.filter
View(freqShared.filter)
freqShared.filter <- freq %>% na.omit() %>% group_by(prodType) %>%
top_n(n = 1, wt = support) %>% arrange(prodType)
freqShared.filter
#Per shared product type (x - product list, y = product name)
addType <- function(x,y){
is.x <- freq$rowNames %in% x
freq$prodType[is.x] <- y
freq
}
freqShared <- addType(accessories.list, "accessories")
freqShared <- addType(monitor.list, "monitor")
freqShared <- addType(desktop.list, "desktop")
freqShared <- addType(printers.list, "printer")
freqShared <- addType(printink.list, "printink")
freqShared <- addType(comptablets.list, "comptablet")
freqShared.filter <- freq %>% na.omit() %>% group_by(prodType) %>%
top_n(n = 1, wt = support) %>% arrange(prodType)
kable(freqShared.filter) %>%
kable_styling(bootstrap_options = "striped", full_width = F, position = "left")
#load libraries
library(dplyr)
library(tidyr)
library(ggplot2)
library(RColorBrewer)
library(tibble)
library(arules)
library(arulesViz)
library(caret)
library(readr)
library(pdftools)
library(stringr)
library(gridExtra)
library(kableExtra)
#load csv data
transData <- read.transactions("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/data/ElectronidexTransactions2017.csv", format = "basket", sep = ",")
prodData <- read.csv("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/data/ElectronidexTransactions2017.csv", header = FALSE)
### Loading PDF Elecronited product type data
text <- pdf_text("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/data/ElectronidexItems2017.pdf")
text2 <- strsplit(text, "\n")
text2 <- text2 %>% unlist(recursive = TRUE)
text3 <- gsub("\r", "", text2)
prod.list <- text3 %>% as.data.frame()
##create product type lists
laptop.list <- prod.list[2:11,1] %>% as.character() %>% trimws("l")
desktop.list <- prod.list[13:21,1] %>% as.character() %>% trimws("l")
monitor.list <- prod.list[23:32,1] %>% as.character() %>% trimws("l")
mice.list <- prod.list[34:43,1] %>% as.character() %>% trimws("l")
keyboard.list <- prod.list[45:53,1] %>% as.character() %>% trimws("l")
mousekeyboard.list <- prod.list[55:63,1] %>% as.character() %>% trimws("l")
compheadphones.list <- prod.list[64:74,1] %>% as.character() %>% trimws("l")
activeheadphones.list <- prod.list[76:81,1] %>% as.character() %>% trimws("l")
compcords.list <- prod.list[83:91,1] %>% as.character() %>% trimws("l")
accessories.list <- prod.list[93:96,1] %>% as.character() %>% trimws("l")
speakers.list <- prod.list[98:106,1] %>% as.character() %>% trimws("l")
printers.list <- prod.list[108:112,1] %>% as.character() %>% trimws("l")
printink.list <- prod.list[114:118,1] %>% as.character() %>% trimws("l")
compstands.list <- prod.list[120:124,1] %>% as.character() %>% trimws("l")
comptablets.list <- prod.list[126:130,1] %>% as.character() %>% trimws("l")
extdrives.list <- prod.list[132:136,1] %>% as.character() %>% trimws("l")
smarthome.list <- prod.list[138:142,1] %>% as.character() %>% trimws("l")
##additional products added to lists
laptop.list <- c(laptop.list, "Alienware Laptop", "Apple MacBook Pro", "Eluktronics Pro Gaming Laptop", "ASUS Chromebook")
activeheadphones.list <- c(activeheadphones.list, "Panasonic On-Ear Stereo Headphones", "APIE Bluetooth Headphone",
"Otium Wireless Sports Bluetooth Headphone", "Philips Flexible Earhook Headphone")
comptablets.list <- c(comptablets.list, "tabletlet", "tablet Pro")
printink.list <- c(printink.list, "printer Toner")
extdrives.list <- c(extdrives.list, "Slim extdrive")
#string replacement lists
prodReplace <- function(x,y){
list1 <- x %>% as.data.frame()
list1$name <- y
list2 <- list1$name
names(list2) <- list1$.
list2
}
laptop.replace <- prodReplace(laptop.list, "laptop")
desktop.replace <- prodReplace(desktop.list, "desktop")
monitor.replace <- prodReplace(monitor.list, "monitor")
mice.replace <- prodReplace(mice.list, "mouse")
keyboard.replace <- prodReplace(keyboard.list, "keyboard")
mousekeyboard.replace <- prodReplace(mousekeyboard.list, "mousekeyboard")
compheadphones.replace <- prodReplace(compheadphones.list, "compheadphones")
activeheadphones.replace <- prodReplace(activeheadphones.list, "activeheadphones")
compcords.replace <- prodReplace(compcords.list, "compcord")
accessories.replace <- prodReplace(accessories.list, "accessories")
speakers.replace <- prodReplace(speakers.list, "speaker")
printers.replace <- prodReplace(printers.list, "printer")
printink.replace <- prodReplace(printink.list, "printink")
compstands.replace <- prodReplace(compstands.list, "compstand")
comptablets.replace <- prodReplace(comptablets.list, "tablet")
extdrives.replace <- prodReplace(extdrives.list, "extdrive")
#load libraries
library(dplyr)
library(tidyr)
library(ggplot2)
library(RColorBrewer)
library(tibble)
library(arules)
library(arulesViz)
library(caret)
library(readr)
library(pdftools)
library(stringr)
library(gridExtra)
library(kableExtra)
#load csv data
transData <- read.transactions("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/data/ElectronidexTransactions2017.csv", format = "basket", sep = ",")
prodData <- read.csv("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/data/ElectronidexTransactions2017.csv", header = FALSE)
### Loading PDF Elecronited product type data
text <- pdf_text("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/data/ElectronidexItems2017.pdf")
text2 <- strsplit(text, "\n")
text2 <- text2 %>% unlist(recursive = TRUE)
text3 <- gsub("\r", "", text2)
prod.list <- text3 %>% as.data.frame()
##create product type lists
laptop.list <- prod.list[2:11,1] %>% as.character() %>% trimws("l")
desktop.list <- prod.list[13:21,1] %>% as.character() %>% trimws("l")
monitor.list <- prod.list[23:32,1] %>% as.character() %>% trimws("l")
mice.list <- prod.list[34:43,1] %>% as.character() %>% trimws("l")
keyboard.list <- prod.list[45:53,1] %>% as.character() %>% trimws("l")
mousekeyboard.list <- prod.list[55:63,1] %>% as.character() %>% trimws("l")
compheadphones.list <- prod.list[64:74,1] %>% as.character() %>% trimws("l")
activeheadphones.list <- prod.list[76:81,1] %>% as.character() %>% trimws("l")
compcords.list <- prod.list[83:91,1] %>% as.character() %>% trimws("l")
accessories.list <- prod.list[93:96,1] %>% as.character() %>% trimws("l")
speakers.list <- prod.list[98:106,1] %>% as.character() %>% trimws("l")
printers.list <- prod.list[108:112,1] %>% as.character() %>% trimws("l")
printink.list <- prod.list[114:118,1] %>% as.character() %>% trimws("l")
compstands.list <- prod.list[120:124,1] %>% as.character() %>% trimws("l")
comptablets.list <- prod.list[126:130,1] %>% as.character() %>% trimws("l")
extdrives.list <- prod.list[132:136,1] %>% as.character() %>% trimws("l")
smarthome.list <- prod.list[138:142,1] %>% as.character() %>% trimws("l")
##additional products added to lists
laptop.list <- c(laptop.list, "Alienware Laptop", "Apple MacBook Pro", "Eluktronics Pro Gaming Laptop", "ASUS Chromebook")
activeheadphones.list <- c(activeheadphones.list, "Panasonic On-Ear Stereo Headphones", "APIE Bluetooth Headphone",
"Otium Wireless Sports Bluetooth Headphone", "Philips Flexible Earhook Headphone")
comptablets.list <- c(comptablets.list, "tabletlet", "tablet Pro")
printink.list <- c(printink.list, "printer Toner")
extdrives.list <- c(extdrives.list, "Slim extdrive")
#string replacement lists
prodReplace <- function(x,y){
list1 <- x %>% as.data.frame()
list1$name <- y
list2 <- list1$name
names(list2) <- list1$.
list2
}
laptop.replace <- prodReplace(laptop.list, "laptop")
desktop.replace <- prodReplace(desktop.list, "desktop")
monitor.replace <- prodReplace(monitor.list, "monitor")
mice.replace <- prodReplace(mice.list, "mouse")
keyboard.replace <- prodReplace(keyboard.list, "keyboard")
mousekeyboard.replace <- prodReplace(mousekeyboard.list, "mousekeyboard")
compheadphones.replace <- prodReplace(compheadphones.list, "compheadphones")
activeheadphones.replace <- prodReplace(activeheadphones.list, "activeheadphones")
compcords.replace <- prodReplace(compcords.list, "compcord")
accessories.replace <- prodReplace(accessories.list, "accessories")
speakers.replace <- prodReplace(speakers.list, "speaker")
printers.replace <- prodReplace(printers.list, "printer")
printink.replace <- prodReplace(printink.list, "printink")
compstands.replace <- prodReplace(compstands.list, "compstand")
comptablets.replace <- prodReplace(comptablets.list, "tablet")
extdrives.replace <- prodReplace(extdrives.list, "extdrive")
smarthome.replace <- prodReplace(smarthome.list, "smarthome")
#String replacement function
stringReplace <- function(z){
inList <- z
repLace <- prodData
repLace <- sapply(repLace, function(x) str_replace_all(x, inList))
data.frame(repLace)
}
productList <- c(laptop.replace, desktop.replace, monitor.replace, mice.replace, keyboard.replace, mousekeyboard.replace,
compheadphones.replace, activeheadphones.replace, compcords.replace, accessories.replace, speakers.replace,
printers.replace, printink.replace, compstands.replace, comptablets.replace, extdrives.replace, smarthome.replace)
typePrep <- stringReplace(productList)
#not all products were included on product type list
# "Alienware Laptop", "Apple MacBook Pro", "Eluktronics Pro Gaming Laptop", "Panasonic On-Ear Stereo Headphones",
# "tabletlet", "APIE Bluetooth Headphone", "ASUS Chromebook", "Otium Wireless Sports Bluetooth Headphone",  "printer Toner"
# "Philips Flexible Earhook Headphone", "Slim extdrive", "tablet Pro"  - added to relevant product replacement lists
#CSV creation/re-import
write.table(typePrep, file = "C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/output/typePrep.csv", sep=",", row.names = FALSE, col.names = FALSE)
typeData <- read.transactions("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/output/typePrep.csv", format = "basket", sep=",")
### Generate association rules and convert to dataframe for manipulation
basketRulesType <- apriori(typeData, parameter = list(supp = 0.01, conf = 0.1, minlen = 2))
basketFrameType <- data.frame(
lhs = labels(lhs(basketRulesType)),
rhs = labels(rhs(basketRulesType)),
basketRulesType@quality)
##Filter based on LHS shared products and support/confidence/lift metrics summarise these
sharedProducts <- ("accessories|monitor|laptop|desktop|printer|printink|tablet")
notSharedProducts <- ("mouse|keyboard|mousekeyboard|compheadphones|activeheadphones|compcord|speaker|compstand|
extdrive|smarthome")
basketLeft <- basketFrameType %>% filter(!grepl(notSharedProducts, lhs)) %>%
filter(support > 0.05, confidence > 0.6, lift > 1)
basketLeftAvg <- basketLeft %>% group_by(rhs) %>%
summarise(avgSupport = mean(support), avgConfidence = mean(confidence), avgLift = mean(lift))
kable(basketLeftAvg) %>%
kable_styling(bootstrap_options = "striped", full_width = F, position = "left")
basketRight <- basketFrameType %>% filter(!grepl(notSharedProducts, rhs)) %>%
filter(support > 0.05, confidence > 0.6, lift > 1)
g5 <- ggplot(basketRight, aes(rhs, lhs)) +
geom_count(aes(size = confidence, colour = support)) +
scale_colour_gradient(low = "skyblue", high = "darkblue") +
theme_bw() +
ylab("LHS Itemset") +
xlab("Shared Product Type") +
ggtitle("Association Rules: RHS shared products")
g5
basketRightFocus <- basketRight %>% filter(support > 0.075, confidence > 0.75, lift > 1.2)
kable(basketRightFocus) %>%
kable_styling(bootstrap_options = "striped", full_width = F, position = "left")
#Per shared product type (x - product list, y = product name)
freq <- itemFrequency(transData) %>% as.data.frame %>% rownames_to_column()
colnames(freq) <- c("rowNames", "support")
freqShared <- freq
addType <- function(x,y){
is.x <- freqShared$rowNames %in% x
freqShared$prodType[is.x] <- y
freqShared
}
freqShared <- addType(accessories.list, "accessories")
freqShared <- addType(monitor.list, "monitor")
freqShared <- addType(desktop.list, "desktop")
freqShared <- addType(printers.list, "printer")
freqShared <- addType(printink.list, "printink")
freqShared <- addType(comptablets.list, "comptablet")
freqShared.filter <- freqShared %>% na.omit() %>% group_by(prodType) %>%
top_n(n = 1, wt = support) %>% arrange(prodType)
kable(freqShared.filter) %>%
kable_styling(bootstrap_options = "striped", full_width = F, position = "left")
#rules creation
basketRulesItem <- apriori(transData, parameter = list(supp = 0.002, conf = 0.3, minlen = 2))
basketRulesItem
itemFrame <- data.frame(
lhs = labels(lhs(basketRulesItem)),
rhs = labels(rhs(basketRulesItem)),
basketRulesItem@quality)
View(itemFrame)
#iMac LHS sales items RHS
imacLHS <- itemFrame %>% filter(lhs == "{iMac}")
View(itemFrame)
macBasket <- apriori(transData, parameter = list(supp = 0.002, conf = 0.3, minlen = 2),
appearance = list (default="rhs",rhs="iMac"), control = list (verbose=F))
macBasket
macBasket <- apriori(transData, parameter = list(supp = 0.001, conf = 0.1, minlen = 2),
appearance = list (default="rhs",rhs="iMac"), control = list (verbose=F))
macBasket
macBasket <- apriori(transData, parameter = list(supp = 0.001, conf = 0.1, minlen = 2),
appearance = list (default="rhs",lhs="iMac"), control = list (verbose=F))
macBasket
inspect(macBasket)
macFrame <- data.frame(
lhs = labels(lhs(macBasket)),
rhs = labels(rhs(macBasket)),
macBasket@quality)
View(macFrame)
macSale <- macFrame %>% filter(lift > 1)
macSale
macSale
macSale <- macFrame %>% filter(confidence > 1.5, lift > 1)
macSale
macSale <- macFrame %>% filter(confidence > 0.15, lift > 1)
macSale
macSale <- macFrame %>% filter(confidence > 0.2, lift > 1)
macSale
#iMac LHS sales items RHS
imacLHS <- itemFrame %>% filter(lhs == "{iMac}")
macBasket <- apriori(transData, parameter = list(supp = 0.001, conf = 0.1, minlen = 2),
appearance = list (default="rhs",lhs="iMac"), control = list (verbose=F))
macBasket
inspect(macBasket)
macFrame <- data.frame(
lhs = labels(lhs(macBasket)),
rhs = labels(rhs(macBasket)),
macBasket@quality)
macSale <- macFrame %>% filter(confidence > 0.2, lift > 1)
macSale
#iMac LHS sales items RHS
imacLHS <- itemFrame %>% filter(lhs == "{iMac}")
macBasket <- apriori(transData, parameter = list(supp = 0.001, conf = 0.1, minlen = 2),
appearance = list (default="rhs",lhs="iMac"), control = list (verbose=F))
macFrame <- data.frame(
lhs = labels(lhs(macBasket)),
rhs = labels(rhs(macBasket)),
macBasket@quality)
macSale <- macFrame %>% filter(confidence > 0.2, lift > 1)
macSale
#iMac LHS sales items RHS
imacLHS <- itemFrame %>% filter(lhs == "{iMac}")
macBasket <- apriori(transData, parameter = list(supp = 0.001, conf = 0.1, minlen = 2),
appearance = list (default="rhs",lhs="iMac"), control = list (verbose=F))
macFrame <- data.frame(
lhs = labels(lhs(macBasket)),
rhs = labels(rhs(macBasket)),
macBasket@quality)
macSale <- macFrame %>% filter(confidence > 0.2, lift > 1)
kable(macSale) %>%
kable_styling(bootstrap_options = "striped", full_width = F, position = "left")
###Eectronidex rule distribution
plot(basketRulesItem)
plot(basketRulesItem, method="graph")
###Electronidex rule distribution
plot(basketRulesItem)
ruleExplorer(basketRules)
ruleExplorer(basketRulesItem)
#demographics
demoData <- read.csv("data/Blackwell_Demographic_Data.csv")
View(demoData)
#demographics
demoData <- read_csv2("data/Blackwell_Demographic_Data.csv")
View(demoData)
![]("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/output/swot.png")
("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/output/swot.png")
!("C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/output/swot.png")
!(C:/Users/rhysh/Google Drive/Data Science/Ubiqum/Project 2/Task 4/output/swot.png)
!(*C:\Users\rhysh\Google Drive\Data Science\Ubiqum\Project 2\Task 4\output\swot.PNG)
![](*C:\Users\rhysh\Google Drive\Data Science\Ubiqum\Project 2\Task 4\output\swot.PNG)
prodData <- read.csv("data/ElectronidexTransactions2017.csv", header = FALSE)
View(prodData)
### Loading PDF data
text <- pdf_text("data/ElectronidexItems2017.pdf")
text2 <- strsplit(text, "\n")
text2 <- text2 %>% unlist(recursive = TRUE)
text3 <- gsub("\r", "", text2)
prod.list <- text3 %>% as.data.frame()
#Load libraries
source("scripts/libraries.R")
### Loading PDF data
text <- pdf_text("data/ElectronidexItems2017.pdf")
text2 <- strsplit(text, "\n")
text2 <- text2 %>% unlist(recursive = TRUE)
text3 <- gsub("\r", "", text2)
prod.list <- text3 %>% as.data.frame()
View(prod.list)
